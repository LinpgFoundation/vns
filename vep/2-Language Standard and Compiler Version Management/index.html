<!doctype html>
<html lang="en">

<head>
        <title>VEP 2 - Language Standard and Compiler Version Management - VNS (Visual Novel Script), a universal scripting language for creating in-game dialogues</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">VNS (Visual Novel Script), a universal scripting language for creating in-game dialogues</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Home
                </a>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/basic_tutorial/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Basic Tutorial
                </a>
            </li>
            <li class="drac-box">
                <a href="../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#tags-collapse" aria-expanded="false">
                    Tags
                </a>
                <div class="collapse" id="tags-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/id/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [id]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/language/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [language]/[lang]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/section/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [section]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/bgi/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [bgi]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/bgm/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [bgm]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/show/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [show]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/display/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [display]/[disp]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/hide/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [hide]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/scene/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [scene]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/option/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [option]/[opt]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/label/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [label]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/jump/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [jump/jmp]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/jump_/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [jump_/jmp_]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/end/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [end]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/block/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [block]
        </a>
    </li>
                    </ul>
                </div>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/comments_and_notes/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Comments and Notes
                </a>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/dialogues/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Dialogues
                </a>
            </li>
            <li class="drac-box">
                <a href="../.."
                    class=" active 
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#visual-novel-script-enhancement-proposals-collapse" aria-expanded="false">
                    Visual Novel Script Enhancement Proposals
                </a>
                <div class="collapse" id="visual-novel-script-enhancement-proposals-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../0-VEP%20Purpose%20and%20Guidelines/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 0 - VEP Purpose and Guidelines
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../1-Variables/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 1 - Variables
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="./"
            class=" active 
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 2 - Language Standard and Compiler Version Management
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../3-Introducing%20%5Bjump%5D%20Tag/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 3 - Introducing [jump] Tag
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../4-Introducing%20%5Bsfx%5D%20Tag/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 4 - Introducing [sfx] Tag
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
        <div class="container">
            <div class="row row-preview">
                <div class="col">
                    <a href="../1-Variables/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </div>
                <div class="col">
                    <a href="../3-Introducing%20%5Bjump%5D%20Tag/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover" style="padding-left: 3%;">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="vep-2-language-standard-and-compiler-version-management">VEP 2 - Language Standard and Compiler Version Management</h1>
<p><img alt="Static Badge" src="https://img.shields.io/badge/vns-2.3-blue?style=for-the-badge" /> <img alt="Static Badge" src="https://img.shields.io/badge/Status-Final-green?style=for-the-badge" title="Accepted and implementation complete, or no longer active" /></p>
<div class="toc">
<ul>
<li><a href="#vep-2-language-standard-and-compiler-version-management">VEP 2 - Language Standard and Compiler Version Management</a><ul>
<li><a href="#abstract">Abstract</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#specification">Specification</a><ul>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#backward-compatibility">Backward Compatibility</a></li>
<li><a href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a href="#allow-specifying-patch">Allow Specifying Patch</a></li>
<li><a href="#using-for-enforcing-a-specific-version">Using == for Enforcing a Specific Version</a></li>
<li><a href="#support-for-or">Support for &gt;, &lt;, or !=</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#vep-development-process">VEP Development Process</a></li>
<li><a href="#copyright">Copyright</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="abstract">Abstract</h2>
<p>This VEP proposes a new tag, <code>[vns]</code>, for specifying the version of the VNS language standard to be used for the current script file. </p>
<h2 id="motivation">Motivation</h2>
<p>VNS languages have maintained backward compatibility across revisions, but this may not always be the case. Specifically, the removal of the <code>[br]</code> tag in VNS 2 can cause scripts using this tag to malfunction in later versions. Additionally, minor differences in behavior and outcomes due to bugs or other factors can cause games to fail. To mitigate these issues, a mechanism for specifying the language version is necessary. This version specification will also help developers perform version checks, thus preventing conflicts and incompatibility. Moreover, with the introduction of VNS-server, this feature will enable the server to select the most appropriate compiler for the compiling process.</p>
<h2 id="specification">Specification</h2>
<h3 id="syntax">Syntax</h3>
<p>By default, specifying the language standard for a script file is optional, assuming the script should work regardless of the VNS compiler version. </p>
<p>The <code>[vns]</code> tag specifies the language standard version:</p>
<pre><code>[vns] {&gt;=, &lt;=, !&lt;=, !&gt;=} &lt;version.revision&gt;
</code></pre>
<h3 id="examples">Examples</h3>
<ul>
<li><code>[vns]2.3</code>: This script is written according to VNS 2.3 standard and should only be compiled using the VNS 2.3 compiler.</li>
<li><code>[vns]&lt;=2.3</code>: If the script works between versions 2.0 and 2.3, this tag can be used. Note that compilers released before VNS 2.3 will not support this tag, unless using VNS-server.</li>
<li><code>[vns]&gt;=2.3</code>: If the script uses features introduced in VNS 2.3 and is not compatible with earlier versions.</li>
<li><code>[vns]!&lt;=2.3</code>: This script works with versions 1.0 through 2.3.</li>
</ul>
<p>Forward compatibility can be assumed between revisions, but forward and backward compatibility cannot be assumed between major version changes. Although not recommended, forced compatibility can be indicated using an exclamation mark.</p>
<h3 id="backward-compatibility">Backward Compatibility</h3>
<p>The introduction of the [vns] tag will not affect existing scripts as it introduces new functionality without altering the behavior of current tags.</p>
<h3 id="rejected-ideas">Rejected Ideas</h3>
<h4 id="allow-specifying-patch">Allow Specifying Patch</h4>
<p>Specifying patch numbers is unnecessary due to the relatively short release cycle of patches, which only include bug fixes and guarantee forward and backward compatibility.</p>
<h4 id="using-for-enforcing-a-specific-version">Using <code>==</code> for Enforcing a Specific Version</h4>
<p>Using <code>==</code> is redundant and may cause confusion. To avoid this, equality is assumed when no comparison operator is used, simplifying the syntax for non-programmers and improving readability.</p>
<h4 id="support-for-or">Support for <code>&gt;</code>, <code>&lt;</code>, or <code>!=</code></h4>
<p>These operators can create unclear compatibility and introduce scripts that cannot run, such as <code>[vns]&lt;2.0</code> when 2.0 is the first release of the VNS 2 standard. Additionally, the unlikely event of a tag being removed and reintroduced makes <code>!=</code> redundant. Higher version enforcement is preferable for maintaining script integrity.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The introduction of the <code>[vns]</code> tag for specifying the version of the VNS language standard addresses the need for clearer compatibility and version management in VNS scripts. By allowing script writers to specify the exact version or range of versions their scripts are compatible with, we can prevent issues arising from changes in language features and behavior between versions. This proposal not only helps maintain backward compatibility but also supports forward compatibility, facilitating smoother transitions and integrations with tools like VNS-server. By adopting this proposal, the VNS language will enhance its robustness and reliability, ensuring that scripts perform consistently across different versions of the compiler.</p>
<h2 id="vep-development-process">VEP Development Process</h2>
<p>A live draft for this VEP lives on GitHub. There is also an issue tracker, where much of the technical discussion takes place.
The draft on GitHub is updated regularly in small increments. The official VEPS repo is (usually) only updated when a new draft is posted to the Linpg Foundation.</p>
<h2 id="copyright">Copyright</h2>
<p>This document has been placed in the public domain.</p></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../..';</script>
        <script src="../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../assets/js/mkdocs.js"></script>
			<script src="../../search/main.js" defer></script>

</body>

</html>