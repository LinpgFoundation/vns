<!doctype html>
<html lang="en">

<head>
        <title>VEP 4 - Introducing [sfx] Tag - VNS (Visual Novel Script), a universal scripting language for creating in-game dialogues</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">VNS (Visual Novel Script), a universal scripting language for creating in-game dialogues</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Home
                </a>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/basic_tutorial/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Basic Tutorial
                </a>
            </li>
            <li class="drac-box">
                <a href="../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#tags-collapse" aria-expanded="false">
                    Tags
                </a>
                <div class="collapse" id="tags-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/id/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [id]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/language/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [language]/[lang]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/section/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [section]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/bgi/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [bgi]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/bgm/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [bgm]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/show/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [show]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/display/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [display]/[disp]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/hide/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [hide]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/scene/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [scene]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/option/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [option]/[opt]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/label/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [label]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/jump/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [jump/jmp]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/jump_/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [jump_/jmp_]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/end/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [end]
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../tutorials/tags/block/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            [block]
        </a>
    </li>
                    </ul>
                </div>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/comments_and_notes/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Comments and Notes
                </a>
            </li>
            <li class="drac-box">
                <a href="../../tutorials/dialogues/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Dialogues
                </a>
            </li>
            <li class="drac-box">
                <a href="../.."
                    class=" active 
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#visual-novel-script-enhancement-proposals-collapse" aria-expanded="false">
                    Visual Novel Script Enhancement Proposals
                </a>
                <div class="collapse" id="visual-novel-script-enhancement-proposals-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../0-VEP%20Purpose%20and%20Guidelines/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 0 - VEP Purpose and Guidelines
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../1-Variables/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 1 - Variables
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../2-Language%20Standard%20and%20Compiler%20Version%20Management/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 2 - Language Standard and Compiler Version Management
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../3-Introducing%20%5Bjump%5D%20Tag/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 3 - Introducing [jump] Tag
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="./"
            class=" active 
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            VEP 4 - Introducing [sfx] Tag
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
        <div class="container">
            <div class="row row-preview">
                <div class="col">
                    <a href="../3-Introducing%20%5Bjump%5D%20Tag/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </div>
                <div class="col">
                    <a 
                        class="btn-preview drac-btn drac-text-white--hover disabled" style="padding-left: 3%;">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="vep-4-introducing-sfx-tag">VEP 4 - Introducing [sfx] Tag</h1>
<p><img alt="Static Badge" src="https://img.shields.io/badge/vns-2.4-blue?style=for-the-badge" /> <img alt="Static Badge" src="https://img.shields.io/badge/Status-Final-green?style=for-the-badge" title="Accepted and implementation complete, or no longer active" /></p>
<div class="toc">
<ul>
<li><a href="#vep-4-introducing-sfx-tag">VEP 4 - Introducing [sfx] Tag</a><ul>
<li><a href="#abstract">Abstract</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#rationale">Rationale</a></li>
<li><a href="#specification">Specification</a><ul>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#behavior">Behavior</a></li>
<li><a href="#example-usage">Example Usage</a><ul>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#multiple-sound-effects">Multiple Sound Effects</a></li>
<li><a href="#sequential-dialogues">Sequential Dialogues</a></li>
<li><a href="#combining-with-background-music">Combining with Background Music</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#backward-compatibility">Backward Compatibility</a></li>
<li><a href="#rejected-ideas">Rejected Idea(s)</a><ul>
<li><a href="#reusing-bgm-tag-with-parameters">Reusing [bgm] Tag with Parameters</a></li>
<li><a href="#persistent-sound-effects">Persistent Sound Effects</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#vep-development-process">VEP Development Process</a></li>
<li><a href="#copyright">Copyright</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="abstract">Abstract</h2>
<p>This VEP proposes a new tag, <code>[sfx]</code>, to enable developers to specify sound effects that should be played during a dialogue. Unlike background music which persists across dialogues, sound effects are one-shot audio cues tied to specific dialogue moments. This enhancement aims to enrich the audio experience in visual novels by allowing precise control over short audio clips.</p>
<h2 id="motivation">Motivation</h2>
<p>Visual novels rely heavily on audio to create immersive experiences. While the existing <code>[bgm]</code> tag handles background music effectively, there is no standardized way to trigger short sound effects during specific dialogues. Sound effects such as door knocks, footsteps, thunder, or character-specific audio cues are essential for enhancing dramatic moments and player immersion. The introduction of the <code>[sfx]</code> tag addresses this gap by providing a dedicated mechanism for triggering one-shot sound effects.</p>
<h2 id="rationale">Rationale</h2>
<p>The <code>[sfx]</code> tag differs from <code>[bgm]</code> in several key ways:</p>
<ol>
<li><strong>Scope</strong>: Background music persists across dialogues until changed, while sound effects are cleared after each dialogue.</li>
<li><strong>Multiplicity</strong>: Multiple sound effects can be triggered simultaneously for a single dialogue, enabling layered audio experiences.</li>
<li><strong>Intent</strong>: Sound effects are designed for short audio cues, while background music handles ambient and continuous audio.</li>
</ol>
<p>By providing a separate tag for sound effects, developers gain clearer semantic distinction between different audio types, improving script readability and maintainability.</p>
<h2 id="specification">Specification</h2>
<h3 id="syntax">Syntax</h3>
<p>The <code>[sfx]</code> tag follows a straightforward syntax:</p>
<pre><code>[sfx] &lt;sound_file1&gt; [sound_file2] ...
</code></pre>
<p>Or using the alternative long form:</p>
<pre><code>[sound-effect] &lt;sound_file1&gt; [sound_file2] ...
</code></pre>
<p>Where <code>&lt;sound_file1&gt;</code>, <code>&lt;sound_file2&gt;</code>, etc., are the filenames of the sound effect files to be played. Multiple files can be specified, separated by spaces.</p>
<h3 id="behavior">Behavior</h3>
<ol>
<li><strong>Replacement</strong>: Each use of <code>[sfx]</code> clears any previously specified sound effects and sets new ones. This is similar to how <code>[display]</code> works for character images.</li>
<li><strong>One-shot</strong>: Sound effects are automatically cleared after the dialogue is processed. They do not persist to subsequent dialogues.</li>
<li><strong>Multiple files</strong>: When multiple sound effect files are specified, they should all be triggered for the current dialogue.</li>
</ol>
<h3 id="example-usage">Example Usage</h3>
<h4 id="basic-usage">Basic Usage</h4>
<pre><code class="language-vns">[sfx]doorbell.wav

Alice:
- Someone's at the door!
</code></pre>
<p>In this example, the doorbell sound effect plays when Alice's dialogue appears.</p>
<h4 id="multiple-sound-effects">Multiple Sound Effects</h4>
<pre><code class="language-vns">[sfx]thunder.wav rain.wav

Narrator:
- The storm raged outside the window.
</code></pre>
<p>Here, both thunder and rain sound effects are triggered simultaneously.</p>
<h4 id="sequential-dialogues">Sequential Dialogues</h4>
<pre><code class="language-vns">[sfx]footsteps.wav

Alice:
- Did you hear that?

Bob:
- Hear what?
</code></pre>
<p>The footsteps sound effect only plays for Alice's dialogue. Bob's dialogue has no sound effects because they are cleared after each dialogue.</p>
<h4 id="combining-with-background-music">Combining with Background Music</h4>
<pre><code class="language-vns">[bgm]suspense.mp3
[sfx]creaking_door.wav

Alice:
- This house gives me the creeps...
</code></pre>
<p>The background music continues playing while the sound effect is triggered for this specific dialogue.</p>
<h2 id="backward-compatibility">Backward Compatibility</h2>
<p>The introduction of the <code>[sfx]</code> tag will not affect existing scripts as it introduces new functionality without altering the behavior of current tags. Scripts that do not use the <code>[sfx]</code> tag will continue to work as expected.</p>
<h2 id="rejected-ideas">Rejected Idea(s)</h2>
<h3 id="reusing-bgm-tag-with-parameters">Reusing [bgm] Tag with Parameters</h3>
<p>An alternative approach considered was extending the <code>[bgm]</code> tag to accept a parameter distinguishing between background music and sound effects. This was rejected because:</p>
<ol>
<li>It conflates two semantically different concepts</li>
<li>It would complicate the behavior of an existing, well-understood tag</li>
<li>It would not naturally support the one-shot clearing behavior needed for sound effects</li>
</ol>
<h3 id="persistent-sound-effects">Persistent Sound Effects</h3>
<p>Another approach considered was having sound effects persist like background music until explicitly changed. This was rejected because:</p>
<ol>
<li>Sound effects are typically short and meant for specific moments</li>
<li>Accidental persistence could lead to unwanted repeated audio</li>
<li>The one-shot behavior aligns better with common visual novel conventions</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>The <code>[sfx]</code> tag provides a standardized mechanism for triggering sound effects in VNS scripts. By enabling precise control over one-shot audio cues, developers can create more immersive and dynamic audio experiences. This enhancement integrates seamlessly with existing audio tags while maintaining full backwards compatibility.</p>
<h2 id="vep-development-process">VEP Development Process</h2>
<p>A live draft for this VEP lives on GitHub. There is also an issue tracker, where much of the technical discussion takes place.
The draft on GitHub is updated regularly in small increments. The official VEPs repo is (usually) only updated when a new draft is posted to the Linpg Foundation.</p>
<h2 id="copyright">Copyright</h2>
<p>This document has been placed in the public domain.</p></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../..';</script>
        <script src="../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../assets/js/mkdocs.js"></script>
			<script src="../../search/main.js" defer></script>

</body>

</html>